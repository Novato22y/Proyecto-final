<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Calendario Interactivo</title>
    <!-- Enlace a la hoja de estilos externa -->
    <link rel="stylesheet" href="{{ url_for('static', filename='css/styles.css') }}">
</head>
<body>

    <!-- Indicador de carga (actualmente no se usa con localStorage, pero es útil para futuras implementaciones con servidor) -->
    <div id="loading-indicator">Cargando...</div>

    <!-- Contenedor principal de la aplicación de calendario -->
    <div class="calendar-app">
        <!-- Cabecera del calendario con controles de navegación y título -->
        <div class="header-calendario">
            <button id="prev-btn">&lt;</button>
            <h2 id="mes-anio"></h2>
            <button id="next-btn">&gt;</button>
        </div>
        
        <!-- Contenedor para los nombres de los días de la semana -->
        <div class="dias-semana">
            <div>Dom</div>
            <div>Lun</div>
            <div>Mar</div>
            <div>Mié</div>
            <div>Jue</div>
            <div>Vie</div>
            <div>Sáb</div>
        </div>
        
        <!-- Cuadrícula donde se generarán los días del mes dinámicamente -->
        <div class="grid-dias" id="grid-dias">
            <!-- Los días se generan aquí con JavaScript -->
        </div>
    </div>

    <!-- Modal para agregar y ver recordatorios. Inicialmente oculto. -->
    <div id="modal-form" class="modal">
        <div class="modal-content">
            <!-- Botón para cerrar el modal -->
            <span class="close-btn">&times;</span>
            <h3>Agregar Recordatorio</h3>
            <p>Día seleccionado: <span id="dia-seleccionado"></span></p>
            
            <!-- Formulario para crear un nuevo recordatorio -->
            <form id="recordatorio-form">
                <label for="titulo">Título:</label>
                <input type="text" id="titulo" required>
                <label for="descripcion">Descripción:</label>
                <textarea id="descripcion"></textarea>
                <label>Importancia:</label>
                <div class="botones-importancia">
                    <button type="button" class="boton-importancia alta" data-importance="alta">Alta</button>
                    <button type="button" class="boton-importancia media" data-importance="media">Media</button>
                    <button type="button" class="boton-importancia baja seleccionada" data-importance="baja">Baja</button>
                </div>
                <input type="hidden" id="importancia" name="importancia" value="baja">
                <button type="submit">Guardar</button>
            </form>
            
            <!-- Sección para mostrar los recordatorios ya existentes para el día seleccionado -->
            <div id="recordatorios-lista">
                <h4>Recordatorios existentes:</h4>
                <div id="recordatorios-existentes"></div>
            </div>
        </div>
    </div>

    <!-- Información de usuario (actualmente oculta) -->
    <div id="info-usuario"></div>

    <!-- Enlace al archivo de JavaScript. 'defer' asegura que se ejecute después de que el HTML se haya cargado. -->
    <script src="{{ url_for('static', filename='js/calendario.js') }}"></script>
</body>
</html>